<div class="row gx-2" [formGroup]="form">
    <div class="col col-3">
        <sqx-control-errors for="action"></sqx-control-errors>

        <select class="form-select schemas-control" formControlName="schemaId">
            @for (schema of schemas; track schema.id) {
                <option [ngValue]="schema.id">{{ schema.displayName }}</option>
            }
        </select>
    </div>

    <div class="col-auto">
        <div class="label text-muted">{{ "rules.when" | sqxTranslate }}</div>
    </div>

    <div class="col">
        <sqx-control-errors for="condition"></sqx-control-errors>

        <sqx-code-editor [completion]="completions | async" singleLine="true" formControlName="condition"></sqx-code-editor>
    </div>

    <div class="col-auto">
        <button
            class="btn btn-text-danger"
            [disabled]="form.disabled"
            (sqxConfirmClick)="remove.emit()"
            type="button"
            confirmTitle="i18n:rules.deleteContentChangedSchemaTitle"
            confirmText="i18n:rules.deleteContentChangedSchemaText"
            confirmRememberKey="deleteContentChangedSchema">
            <i class="icon-bin2"></i>
        </button>
    </div>
</div>
