@if (isPlain) {
    <div class="value-container" [title]="title" titlePosition="top-start">
        <div #valueElement [class.truncate]="!snapshot.wrapping">{{ value }}</div>
    </div>
    @if (isString && fields) {
        <button class="btn btn-icon" (click)="toggle()" sqxStopClick>
            <i class="icon-wrap_text"></i>
        </button>
    }
} @else {
    <div
        class="html-value"
        #htmlValue
        [longHoverSelector]="'img'"
        [innerHTML]="value.html"
        (sqxLongHover)="show()"
        (longHoverCancelled)="hide()"
        longHoverDuration="1500"></div>
    <div class="preview" *sqxModal="previewModal; closeAuto: false" [sqxAnchoredTo]="htmlValue" position="bottom-start">
        <img [src]="value.preview" />
    </div>
}
<ng-template #html>
    <div
        class="html-value"
        #htmlValue
        [longHoverSelector]="'img'"
        [innerHTML]="value.html"
        (sqxLongHover)="show()"
        (longHoverCancelled)="hide()"
        longHoverDuration="1500"></div>

    <div class="preview" *sqxModal="previewModal; closeAuto: false" [sqxAnchoredTo]="htmlValue" position="bottom-start">
        <img [src]="value.preview" />
    </div>
</ng-template>
