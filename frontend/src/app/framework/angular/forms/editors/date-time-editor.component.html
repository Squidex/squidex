<div class="d-flex root" [class.mini]="size === 'Mini'" [class.compact]="size === 'Compact'" (sqxResized)="setSize($event)">
    <div class="form-group flex-grow me-1 mb-0">
        @if (isDateTimeMode && shouldShowDateTimeModeButton) {
            <div>
                @if (snapshot.isLocal) {
                    <button class="btn btn-text-secondary btn-sm btn-time-mode" (click)="setLocalMode(false)" type="button">
                        {{ "common.dateTimeEditor.local" | sqxTranslate }}
                    </button>
                }
                @if (!snapshot.isLocal) {
                    <button class="btn btn-text-secondary btn-sm btn-time-mode" (click)="setLocalMode(true)" type="button">
                        {{ "common.dateTimeEditor.utc" | sqxTranslate }}
                    </button>
                }
            </div>
        }
        <div class="input-group flex-grow">
            <input
                class="form-control form-date"
                #dateInput
                [formControl]="dateControl"
                [class.with-buttons]="isDateTimeMode && shouldShowDateTimeModeButton"
                (blur)="callTouched()"
                placeholder="{{ 'common.date' | sqxTranslate }}"
                minlength="0"
                maxlength="10" />

            @if (isDateTimeMode) {
                <input
                    class="form-control form-time"
                    [formControl]="timeControl"
                    (blur)="callTouched()"
                    placeholder="{{ 'common.time' | sqxTranslate }}" />
            }
        </div>

        @if (!hideClear) {
            <button
                class="btn btn-text-secondary btn-sm btn-clear"
                [class.hidden]="!hasValue"
                [disabled]="snapshot.isDisabled"
                (click)="reset()"
                type="button">
                <i class="icon-close"></i>
            </button>
        }
    </div>
    @if (isDateTimeMode && shouldShowDateButtons) {
        <div class="form-group">
            <button
                class="btn btn-text-secondary btn-quick"
                [disabled]="snapshot.isDisabled"
                (click)="writeNow()"
                type="button"
                title="i18n:common.dateTimeEditor.nowTooltip">
                {{ "common.dateTimeEditor.now" | sqxTranslate }}
            </button>
        </div>
    }
    @if (!isDateTimeMode && shouldShowDateButtons) {
        <div class="form-group">
            <button
                class="btn btn-text-secondary btn-quick"
                [disabled]="snapshot.isDisabled"
                (click)="writeToday()"
                type="button"
                title="i18n:common.dateTimeEditor.todayTooltip">
                {{ "common.dateTimeEditor.today" | sqxTranslate }}
            </button>
        </div>
    }
</div>
