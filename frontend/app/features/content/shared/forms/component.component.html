<div class="component">
    <div *ngIf="formModel.schema; else noSchema">
        <div class="form-group" *ngFor="let section of formModel.sections">
            <sqx-component-section
                [canUnset]="canUnset"
                [form]="form"
                [formContext]="formContext"
                [formSection]="$any(section)"
                [language]="language"
                [languages]="languages">
            </sqx-component-section>
        </div>
    </div>
    
    <ng-template #noSchema>
        <ng-container *ngIf="schemas.length > 1">
            <button type="button" class="btn btn-outline-success dropdown-toggle" (click)="dropdown.show()" #buttonSelect>
                {{ 'contents.addComponent' | sqxTranslate}}
            </button>
            
            <ng-container *sqxModal="dropdown;closeAlways:true">
                <div class="dropdown-menu" [sqxAnchoredTo]="buttonSelect" @fade>
                    <a class="dropdown-item" *ngFor="let schema of schemas" (click)="setSchema(schema)">
                        {{schema.displayName}}
                    </a>
                </div>
            </ng-container>
        </ng-container>
        <ng-container *ngIf="schemas.length === 1">
            <button type="button" class="btn btn-outline-success" (click)="setSchema(schemas[0])">
                {{ 'contents.addComponent' | sqxTranslate}}
            </button>
        </ng-container>
    </ng-template>
</div>