!function (e) { function t(r) { if (n[r]) return n[r].exports; var o = n[r] = { i: r, l: !1, exports: {} }; return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports } var n = {}; t.m = e, t.c = n, t.d = function (e, n, r) { t.o(e, n) || Object.defineProperty(e, n, { enumerable: !0, get: r }) }, t.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, t.t = function (e, n) { if (1 & n && (e = t(e)), 8 & n) return e; if (4 & n && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (t.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & n && "string" != typeof e) for (var o in e) t.d(r, o, function (t) { return e[t] }.bind(null, o)); return r }, t.n = function (e) { var n = e && e.__esModule ? function () { return e.default } : function () { return e }; return t.d(n, "a", n), n }, t.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, t.p = "/", t(t.s = "mdyV") }({ hosL: function (e, t, n) { "use strict"; function r(e, t) { for (var n in t) e[n] = t[n]; return e } function o(e) { var t = e.parentNode; t && t.removeChild(e) } function u(e, t, n) { var r, o, u, i = {}; for (u in t) "key" == u ? r = t[u] : "ref" == u ? o = t[u] : i[u] = t[u]; if (arguments.length > 2 && (i.children = arguments.length > 3 ? E.call(arguments, 2) : n), "function" == typeof e && null != e.defaultProps) for (u in e.defaultProps) void 0 === i[u] && (i[u] = e.defaultProps[u]); return _(e, i, r, o, null) } function _(e, t, n, r, o) { var u = { type: e, props: t, key: n, ref: r, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, __h: null, constructor: void 0, __v: null == o ? ++C : o }; return null == o && null != P.vnode && P.vnode(u), u } function i(e) { return e.children } function l(e, t) { this.props = e, this.context = t } function c(e, t) { if (null == t) return e.__ ? c(e.__, e.__.__k.indexOf(e) + 1) : null; for (var n; t < e.__k.length; t++)if (null != (n = e.__k[t]) && null != n.__e) return n.__e; return "function" == typeof e.type ? c(e) : null } function a(e) { var t, n; if (null != (e = e.__) && null != e.__c) { for (e.__e = e.__c.base = null, t = 0; t < e.__k.length; t++)if (null != (n = e.__k[t]) && null != n.__e) { e.__e = e.__c.base = n.__e; break } return a(e) } } function f(e) { (!e.__d && (e.__d = !0) && H.push(e) && !s.__r++ || L !== P.debounceRendering) && ((L = P.debounceRendering) || T)(s) } function s() { for (var e; s.__r = H.length;)e = H.sort((function (e, t) { return e.__v.__b - t.__v.__b })), H = [], e.some((function (e) { var t, n, o, u, _, i; e.__d && (_ = (u = (t = e).__v).__e, (i = t.__P) && (n = [], (o = r({}, u)).__v = u.__v + 1, g(i, u, o, t.__n, void 0 !== i.ownerSVGElement, null != u.__h ? [_] : null, n, null == _ ? c(u) : _, u.__h), k(n, u), u.__e != _ && a(u))) })) } function d(e, t, n, r, o, u, l, a, f, s) { var d, v, y, m, b, k, O, x = r && r.__k || I, S = x.length; for (n.__k = [], d = 0; d < t.length; d++)if (null != (m = n.__k[d] = null == (m = t[d]) || "boolean" == typeof m ? null : "string" == typeof m || "number" == typeof m || "bigint" == typeof m ? _(null, m, null, null, m) : Array.isArray(m) ? _(i, { children: m }, null, null, null) : m.__b > 0 ? _(m.type, m.props, m.key, null, m.__v) : m)) { if (m.__ = n, m.__b = n.__b + 1, null === (y = x[d]) || y && m.key == y.key && m.type === y.type) x[d] = void 0; else for (v = 0; v < S; v++) { if ((y = x[v]) && m.key == y.key && m.type === y.type) { x[v] = void 0; break } y = null } g(e, m, y = y || D, o, u, l, a, f, s), b = m.__e, (v = m.ref) && y.ref != v && (O || (O = []), y.ref && O.push(y.ref, null, m), O.push(v, m.__c || b, m)), null != b ? (null == k && (k = b), "function" == typeof m.type && m.__k === y.__k ? m.__d = f = p(m, f, e) : f = h(e, m, y, x, b, f), "function" == typeof n.type && (n.__d = f)) : f && y.__e == f && f.parentNode != e && (f = c(y)) } for (n.__e = k, d = S; d--;)null != x[d] && ("function" == typeof n.type && null != x[d].__e && x[d].__e == n.__d && (n.__d = c(r, d + 1)), j(x[d], x[d])); if (O) for (d = 0; d < O.length; d++)w(O[d], O[++d], O[++d]) } function p(e, t, n) { for (var r, o = e.__k, u = 0; o && u < o.length; u++)(r = o[u]) && (r.__ = e, t = "function" == typeof r.type ? p(r, t, n) : h(n, r, r, o, r.__e, t)); return t } function h(e, t, n, r, o, u) { var _, i, l; if (void 0 !== t.__d) _ = t.__d, t.__d = void 0; else if (null == n || o != u || null == o.parentNode) e: if (null == u || u.parentNode !== e) e.appendChild(o), _ = null; else { for (i = u, l = 0; (i = i.nextSibling) && l < r.length; l += 2)if (i == o) break e; e.insertBefore(o, u), _ = u } return void 0 !== _ ? _ : o.nextSibling } function v(e, t, n) { "-" === t[0] ? e.setProperty(t, n) : e[t] = null == n ? "" : "number" != typeof n || q.test(t) ? n : n + "px" } function y(e, t, n, r, o) { var u; e: if ("style" === t) if ("string" == typeof n) e.style.cssText = n; else { if ("string" == typeof r && (e.style.cssText = r = ""), r) for (t in r) n && t in n || v(e.style, t, ""); if (n) for (t in n) r && n[t] === r[t] || v(e.style, t, n[t]) } else if ("o" === t[0] && "n" === t[1]) u = t !== (t = t.replace(/Capture$/, "")), t = t.toLowerCase() in e ? t.toLowerCase().slice(2) : t.slice(2), e.l || (e.l = {}), e.l[t + u] = n, n ? r || e.addEventListener(t, u ? b : m, u) : e.removeEventListener(t, u ? b : m, u); else if ("dangerouslySetInnerHTML" !== t) { if (o) t = t.replace(/xlink[H:h]/, "h").replace(/sName$/, "s"); else if ("href" !== t && "list" !== t && "form" !== t && "tabIndex" !== t && "download" !== t && t in e) try { e[t] = null == n ? "" : n; break e } catch (e) { } "function" == typeof n || (null != n && (!1 !== n || "a" === t[0] && "r" === t[1]) ? e.setAttribute(t, n) : e.removeAttribute(t)) } } function m(e) { this.l[e.type + !1](P.event ? P.event(e) : e) } function b(e) { this.l[e.type + !0](P.event ? P.event(e) : e) } function g(e, t, n, o, u, _, c, a, f) { var s, p, h, v, y, m, b, g, k, w, j, S = t.type; if (void 0 !== t.constructor) return null; null != n.__h && (f = n.__h, a = t.__e = n.__e, t.__h = null, _ = [a]), (s = P.__b) && s(t); try { e: if ("function" == typeof S) { if (g = t.props, k = (s = S.contextType) && o[s.__c], w = s ? k ? k.props.value : s.__ : o, n.__c ? b = (p = t.__c = n.__c).__ = p.__E : ("prototype" in S && S.prototype.render ? t.__c = p = new S(g, w) : (t.__c = p = new l(g, w), p.constructor = S, p.render = x), k && k.sub(p), p.props = g, p.state || (p.state = {}), p.context = w, p.__n = o, h = p.__d = !0, p.__h = []), null == p.__s && (p.__s = p.state), null != S.getDerivedStateFromProps && (p.__s == p.state && (p.__s = r({}, p.__s)), r(p.__s, S.getDerivedStateFromProps(g, p.__s))), v = p.props, y = p.state, h) null == S.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount); else { if (null == S.getDerivedStateFromProps && g !== v && null != p.componentWillReceiveProps && p.componentWillReceiveProps(g, w), !p.__e && null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(g, p.__s, w) || t.__v === n.__v) { p.props = g, p.state = p.__s, t.__v !== n.__v && (p.__d = !1), p.__v = t, t.__e = n.__e, t.__k = n.__k, t.__k.forEach((function (e) { e && (e.__ = t) })), p.__h.length && c.push(p); break e } null != p.componentWillUpdate && p.componentWillUpdate(g, p.__s, w), null != p.componentDidUpdate && p.__h.push((function () { p.componentDidUpdate(v, y, m) })) } p.context = w, p.props = g, p.state = p.__s, (s = P.__r) && s(t), p.__d = !1, p.__v = t, p.__P = e, s = p.render(p.props, p.state, p.context), p.state = p.__s, null != p.getChildContext && (o = r(r({}, o), p.getChildContext())), h || null == p.getSnapshotBeforeUpdate || (m = p.getSnapshotBeforeUpdate(v, y)), j = null != s && s.type === i && null == s.key ? s.props.children : s, d(e, Array.isArray(j) ? j : [j], t, n, o, u, _, c, a, f), p.base = t.__e, t.__h = null, p.__h.length && c.push(p), b && (p.__E = p.__ = null), p.__e = !1 } else null == _ && t.__v === n.__v ? (t.__k = n.__k, t.__e = n.__e) : t.__e = O(n.__e, t, n, o, u, _, c, f); (s = P.diffed) && s(t) } catch (e) { t.__v = null, (f || null != _) && (t.__e = a, t.__h = !!f, _[_.indexOf(a)] = null), P.__e(e, t, n) } } function k(e, t) { P.__c && P.__c(t, e), e.some((function (t) { try { e = t.__h, t.__h = [], e.some((function (e) { e.call(t) })) } catch (e) { P.__e(e, t.__v) } })) } function O(e, t, n, r, u, _, i, l) { var a, f, s, p = n.props, h = t.props, v = t.type, m = 0; if ("svg" === v && (u = !0), null != _) for (; m < _.length; m++)if ((a = _[m]) && "setAttribute" in a == !!v && (v ? a.localName === v : 3 === a.nodeType)) { e = a, _[m] = null; break } if (null == e) { if (null === v) return document.createTextNode(h); e = u ? document.createElementNS("http://www.w3.org/2000/svg", v) : document.createElement(v, h.is && h), _ = null, l = !1 } if (null === v) p === h || l && e.data === h || (e.data = h); else { if (_ = _ && E.call(e.childNodes), f = (p = n.props || D).dangerouslySetInnerHTML, s = h.dangerouslySetInnerHTML, !l) { if (null != _) for (p = {}, m = 0; m < e.attributes.length; m++)p[e.attributes[m].name] = e.attributes[m].value; (s || f) && (s && (f && s.__html == f.__html || s.__html === e.innerHTML) || (e.innerHTML = s && s.__html || "")) } if (function (e, t, n, r, o) { var u; for (u in n) "children" === u || "key" === u || u in t || y(e, u, null, n[u], r); for (u in t) o && "function" != typeof t[u] || "children" === u || "key" === u || "value" === u || "checked" === u || n[u] === t[u] || y(e, u, t[u], n[u], r) }(e, h, p, u, l), s) t.__k = []; else if (m = t.props.children, d(e, Array.isArray(m) ? m : [m], t, n, r, u && "foreignObject" !== v, _, i, _ ? _[0] : n.__k && c(n, 0), l), null != _) for (m = _.length; m--;)null != _[m] && o(_[m]); l || ("value" in h && void 0 !== (m = h.value) && (m !== p.value || m !== e.value || "progress" === v && !m) && y(e, "value", m, p.value, !1), "checked" in h && void 0 !== (m = h.checked) && m !== e.checked && y(e, "checked", m, p.checked, !1)) } return e } function w(e, t, n) { try { "function" == typeof e ? e(t) : e.current = t } catch (e) { P.__e(e, n) } } function j(e, t, n) { var r, u; if (P.unmount && P.unmount(e), (r = e.ref) && (r.current && r.current !== e.__e || w(r, null, t)), null != (r = e.__c)) { if (r.componentWillUnmount) try { r.componentWillUnmount() } catch (e) { P.__e(e, t) } r.base = r.__P = null } if (r = e.__k) for (u = 0; u < r.length; u++)r[u] && j(r[u], t, "function" != typeof e.type); n || null == e.__e || o(e.__e), e.__e = e.__d = void 0 } function x(e, t, n) { return this.constructor(e, n) } function S(e, t, n) { var r, o, _; P.__ && P.__(e, t), o = (r = "function" == typeof n) ? null : n && n.__k || t.__k, _ = [], g(t, e = (!r && n || t).__k = u(i, null, [e]), o || D, D, void 0 !== t.ownerSVGElement, !r && n ? [n] : o ? null : t.firstChild ? E.call(t.childNodes) : null, _, !r && n ? n : o ? o.__e : t.firstChild, r), k(_, e) } function A(e, t) { S(e, t, A) } n.d(t, "d", (function () { return S })), n.d(t, "b", (function () { return A })), n.d(t, "a", (function () { return u })), n.d(t, "c", (function () { return P })); var E, P, C, H, T, L, D = {}, I = [], q = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i; E = I.slice, P = { __e: function (e, t) { for (var n, r, o; t = t.__;)if ((n = t.__c) && !n.__) try { if ((r = n.constructor) && null != r.getDerivedStateFromError && (n.setState(r.getDerivedStateFromError(e)), o = n.__d), null != n.componentDidCatch && (n.componentDidCatch(e), o = n.__d), o) return n.__E = n } catch (t) { e = t } throw e } }, C = 0, l.prototype.setState = function (e, t) { var n; n = null != this.__s && this.__s !== this.state ? this.__s : this.__s = r({}, this.state), "function" == typeof e && (e = e(r({}, n), this.props)), e && r(n, e), null != e && this.__v && (t && this.__h.push(t), f(this)) }, l.prototype.forceUpdate = function (e) { this.__v && (this.__e = !0, e && this.__h.push(e), f(this)) }, l.prototype.render = i, H = [], T = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, s.__r = 0 }, mdyV: function (e, t, n) { "use strict"; n.r(t); var r = n("hosL"), o = r.a, u = r.d, _ = function (e) { return e && e.default ? e.default : e }; if ("function" == typeof _(n("qVkA"))) { var i = document.getElementById("preact_root") || document.body.firstElementChild; 0, function () { var e = _(n("qVkA")), t = {}, r = document.querySelector('[type="__PREACT_CLI_DATA__"]'); r && (t = JSON.parse(decodeURI(r.innerHTML)).preRenderData || t); var l; t.url && (l = t.url); i = u(o(e, { CLI_DATA: { preRenderData: t } }), document.body, i) }() } }, qVkA: function (e, t, n) { "use strict"; function r(e, t) { S.c.__h && S.c.__h(j, e, A || t), A = 0; var n = j.__H || (j.__H = { __: [], __h: [] }); return e >= n.__.length && n.__.push({}), n.__[e] } function o(e) { return A = 1, function (e, t, n) { var o = r(w++, 2); return o.t = e, o.__c || (o.__ = [n ? n(t) : d(void 0, t), function (e) { var t = o.t(o.__[0], e); o.__[0] !== t && (o.__ = [t, o.__[1]], o.__c.setState({})) }], o.__c = j), o.__ }(d, e) } function u(e, t) { var n = r(w++, 3); !S.c.__s && s(n.__H, t) && (n.__ = e, n.__H = t, j.__H.__h.push(n)) } function _(e, t) { var n = r(w++, 4); !S.c.__s && s(n.__H, t) && (n.__ = e, n.__H = t, j.__h.push(n)) } function i(e) { return A = 5, l((function () { return { current: e } }), []) } function l(e, t) { var n = r(w++, 7); return s(n.__H, t) && (n.__ = e(), n.__H = t, n.__h = e), n.__ } function c() { var e; for (E.sort((function (e, t) { return e.__v.__b - t.__v.__b })); e = E.pop();)if (e.__P) try { e.__H.__h.forEach(a), e.__H.__h.forEach(f), e.__H.__h = [] } catch (t) { e.__H.__h = [], S.c.__e(t, e.__v) } } function a(e) { var t = j, n = e.__c; "function" == typeof n && (e.__c = void 0, n()), j = t } function f(e) { var t = j; e.__c = e.__(), j = t } function s(e, t) { return !e || e.length !== t.length || t.some((function (t, n) { return t !== e[n] })) } function d(e, t) { return "function" == typeof t ? t(e) : t } function p(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == n) return; var r, o, u = [], _ = !0, i = !1; try { for (n = n.call(e); !(_ = (r = n.next()).done) && (u.push(r.value), !t || u.length !== t); _ = !0); } catch (e) { i = !0, o = e } finally { try { _ || null == n.return || n.return() } finally { if (i) throw o } } return u }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return h(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return h(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function h(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function v() { return v = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, v.apply(this, arguments) } function y(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function m(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? y(Object(n), !0).forEach((function (t) { b(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : y(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function b(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function g(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == n) return; var r, o, u = [], _ = !0, i = !1; try { for (n = n.call(e); !(_ = (r = n.next()).done) && (u.push(r.value), !t || u.length !== t); _ = !0); } catch (e) { i = !0, o = e } finally { try { _ || null == n.return || n.return() } finally { if (i) throw o } } return u }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return k(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return k(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function k(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function O(e) { U || (U = document.body.appendChild(document.createElement("div"))), Object(S.d)(Object(S.a)(M, null), U), function (e) { var t, n = null == e ? void 0 : e.src; if (!n) return; var r = n.substring(0, n.lastIndexOf("/")) + "/embed-sdk.css", o = document.createElement("link"); o.rel = "stylesheet", o.href = r, o.type = "text/css", null === (t = document.head) || void 0 === t || t.appendChild(o) }(e) } n.r(t); var w, j, x, S = n("hosL"), A = 0, E = [], P = S.c.__b, C = S.c.__r, H = S.c.diffed, T = S.c.__c, L = S.c.unmount; S.c.__b = function (e) { j = null, P && P(e) }, S.c.__r = function (e) { C && C(e), w = 0; var t = (j = e.__c).__H; t && (t.__h.forEach(a), t.__h.forEach(f), t.__h = []) }, S.c.diffed = function (e) { H && H(e); var t = e.__c; t && t.__H && t.__H.__h.length && (1 !== E.push(t) && x === S.c.requestAnimationFrame || ((x = S.c.requestAnimationFrame) || function (e) { var t, n = function () { clearTimeout(r), D && cancelAnimationFrame(t), setTimeout(e) }, r = setTimeout(n, 100); D && (t = requestAnimationFrame(n)) })(c)), j = null }, S.c.__c = function (e, t) { t.some((function (e) { try { e.__h.forEach(a), e.__h = e.__h.filter((function (e) { return !e.__ || f(e) })) } catch (n) { t.some((function (e) { e.__h && (e.__h = []) })), t = [], S.c.__e(n, e.__v) } })), T && T(e, t) }, S.c.unmount = function (e) { L && L(e); var t, n = e.__c; n && n.__H && (n.__H.__.forEach((function (e) { try { a(e) } catch (e) { t = e } })), t && S.c.__e(t, n.__v)) }; var D = "function" == typeof requestAnimationFrame, I = function (e) { var t = e.url, n = e.onClose; return Object(S.a)("div", { class: "squidex-iframe" }, Object(S.a)("button", { class: "squidex-iframe-close", onClick: n }, Object(S.a)("svg", { version: "1.1", xmlns: "http://www.w3.org/2000/svg", width: "18", height: "18", viewBox: "0 0 24 24" }, Object(S.a)("path", { d: "M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z" }))), Object(S.a)("iframe", { src: t, frameBorder: 0 })) }, q = function (e) { var t, n, r, c, a, f, s = e.onOpen, d = e.target, h = e.token, v = i(), y = i(), m = i(), b = p(o(0), 2), g = b[1]; u((function () { g((function (e) { return e + 1 })) }), [h]), u((function () { function e() { var e = d.getBoundingClientRect(), t = m.current; t && e.height === t.height && e.width === t.width && e.x === t.x && e.y === t.y || (m.current = e, g((function (e) { return e + 1 }))) } document.body.addEventListener("scroll", e); var t = setInterval((function () { e() }), 500); return e(), function () { clearInterval(t), document.body.removeEventListener("scroll", e) } }), [d]), _((function () { if (v.current) { var e = v.current.getBoundingClientRect(), t = y.current; t && e.height === t.height && e.width === t.width || (y.current = e, g((function (e) { return e + 1 }))) } }), [g]); var k = l((function () { var e = h.a, t = h.i, n = h.s, r = h.u; return n ? "".concat(r, "/app/").concat(e, "/content/").concat(n, "/").concat(t) : "".concat(r, "/app/").concat(e, "/assets/").concat(n, "/").concat(t) }), [h]), O = l((function () { var e = h.a, t = h.i, n = h.s, r = h.u; return n ? "".concat(r, "/embed/app/").concat(e, "/content/").concat(n, "/").concat(t) : "".concat(r, "/embed/app/").concat(e, "/assets/").concat(n, "/").concat(t) }), [h]), w = ((null === (t = m.current) || void 0 === t ? void 0 : t.x) || 0) - 4, j = ((null === (n = m.current) || void 0 === n ? void 0 : n.y) || 0) - 4, x = ((null === (r = m.current) || void 0 === r ? void 0 : r.width) || 0) + 8, A = ((null === (c = m.current) || void 0 === c ? void 0 : c.height) || 0) + 8, E = (null === (a = y.current) || void 0 === a ? void 0 : a.width) || 0, P = (null === (f = y.current) || void 0 === f ? void 0 : f.height) || 0, C = w, H = j - P; return H < 0 && (H = j + A), H + P > window.innerHeight && (C = window.innerHeight - P), C < 0 && (C = 0), C + E > window.innerWidth && (C = window.innerWidth - E), Object(S.a)("div", { class: "squidex-overlay", style: { left: w, top: j, width: x, height: A } }, Object(S.a)("div", { class: "squidex-overlay-toolbar", style: { left: C, top: H }, ref: v }, Object(S.a)("div", { class: "squidex-overlay-schema" }, (null == h ? void 0 : h.s) || "Asset"), Object(S.a)("div", { class: "squidex-overlay-links" }, Object(S.a)("a", { onClick: function () { return s(O) } }, "Edit Inline"), Object(S.a)("a", { href: k, target: "_blank" }, "Edit In Squidex")))) }, M = function () { var e = i(), t = g(o(), 2), n = t[0], r = t[1], _ = g(o(), 2), c = _[0], a = _[1], f = g(o({}), 2), s = f[0], d = f[1], p = g(o({}), 2), h = p[0], y = p[1]; u((function () { function t(t) { var u = t.target; if (u && u !== n) { try { var _, i = function (e) { var t = e.getAttribute("squidex-token"); if (!t) return null; try { var n = atob(t), r = JSON.parse(n); if (!r.u || !r.i || !r.a) return null; for (; r.u.endsWith("/");)r.u = r.u.substring(0, r.u.substring.length - 1); return r } catch (e) { return null } }(u); i ? (o = u, r({ target: u, token: i })) : !o || o.contains(u) || null !== (_ = e.current) && void 0 !== _ && _.contains(u) || (o = null, r(void 0)) } catch (e) { } n = u } } var n, o = null; return document.addEventListener("mousemove", t), function () { document.removeEventListener("mousemove", t) } }), []), u((function () { var e = null == n ? void 0 : n.token.u; e && (e.indexOf("http://") && y((function (t) { return m(m({}, t), {}, b({}, e, !0)) })), d((function (t) { if (t[e]) return t; var n = "".concat(e, "/identity-server/status.png"); return m(m({}, s), {}, b({}, e, n)) }))) }), [null == n ? void 0 : n.token.u]); var k, O = (k = function (e, t) { y((function (n) { return m(m({}, n), {}, b({}, e, t)) })) }, A = 8, l((function () { return k }), [])); return Object(S.a)("div", { class: "squidex", ref: e }, n && h[n.token.u] && Object(S.a)(q, v({ onOpen: a }, n)), Object.entries(s).map((function (e) { var t = g(e, 2), n = t[0], r = t[1]; return Object(S.a)("img", { width: 0, height: 0, key: r, src: r, onLoad: function () { return O(n, !0) }, onError: function () { return O(n, !1) } }) })), c && Object(S.a)(I, { url: c, onClose: function () { return a(void 0) } })) }, U = null, N = document.currentScript; "complete" === document.readyState ? O(N) : window.addEventListener("load", (function () { return O(N) })) } });
//# sourceMappingURL=bundle.c1d61.js.map