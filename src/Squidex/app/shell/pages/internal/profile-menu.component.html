<ul class="nav navbar-nav">
    <li class="nav-item dropdown">
        <span class="nav-link dropdown-toggle" (click)="modalMenu.toggle()">
            <span class="user">
                <img class="user-picture" [attr.src]="snapshot.profileId | sqxUserIdPicture" />
                
                <span>{{snapshot.profileDisplayName}}</span>
            </span>
        </span>

        <ng-container *sqxModal="modalMenu;closeAlways:true">
            <div class="dropdown-menu" @fade>
                <a class="dropdown-item dropdown-info" [sqxPopupLink]="snapshot.profileUrl">
                    <div>Signed in with</div>
            
                    <strong>{{snapshot.profileEmail}}</strong>
                </a>
                
                <div class="dropdown-divider"></div>

                <a class="dropdown-item" routerLink="/app/administration" *ngIf="uiState.canUserAdminResource | async">
                    Administration
                </a>

                <a class="dropdown-item" [sqxPopupLink]="snapshot.profileUrl">
                    Profile
                </a>

                <div class="dropdown-divider"></div>

                <a class="dropdown-item" (click)="logout()" sqxExternalLink>
                    Logout
                </a>
            </div>
        </ng-container>
    </li>
</ul>